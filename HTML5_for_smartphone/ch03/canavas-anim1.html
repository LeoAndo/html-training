<!DOCTYPE html>
<html><head><meta charset="utf-8"></head><body>
<canvas id="a_canvas" width="300" height="300"></canvas>
<script type="text/javascript">
  var canvas = document.getElementById("a_canvas");
  var context = canvas.getContext("2d");
  // ボールの状態を記憶しておく
  var ball = {x:10, y:100, dir_x:5, dir_y:5};
  // アニメーション
  setInterval(drawBall, 100);
  function drawBall() {
    // 背景を描画
    context.fillStyle = "white";
    context.fillRect(0,0,300,300);
    // ボールを描画
    context.beginPath();
    context.arc(ball.x, ball.y, 5, 0, 2*Math.PI,true);
    context.fillStyle = "red";
    context.fill();
    // ボールを移動させる
    ball.x += ball.dir_x;
    ball.y += ball.dir_y;
    if (ball.x < 0 || ball.x > 300) { ball.dir_x *= -1; }
    if (ball.y < 0 || ball.y > 300) { ball.dir_y *= -1; }
  }
</script>
</body></html>
